<div class="container">
    <mat-horizontal-stepper [linear]="isLinear" #stepper>
        <mat-step [stepControl]="firstFormGroup">
            <form [formGroup]="firstFormGroup">
                <ng-template matStepLabel>Pick a Username</ng-template>
                <mat-form-field>
                    <input matInput placeholder="Username" formControlName="firstCtrl" [formControl]="usernameFormControl" required>
                    <mat-error *ngIf="usernameFormControl.invalid">{{getUsernameErrorMessage()}}</mat-error>
                </mat-form-field>
                <div>
                    <button mat-stroked-button matStepperPrevious>Back</button>
                    <button mat-stroked-button matStepperNext>Next</button>
                </div>
            </form>
        </mat-step>
        <mat-step [stepControl]="SecondFormGroup">
            <form [formGroup]="secondFormGroup">
                <ng-template matStepLabel>Pick a strong password</ng-template>
                <mat-form-field>
                    <input matInput placeholder="Password" formControlName="secondCtrl" [formControl]="passwordFormControl" [type]="!hide ? 'password' : 'text'" required>
                    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    <mat-error *ngIf="passwordFormControl.invalid">{{getPasswordErrorMessage()}}</mat-error>
                </mat-form-field>
                <div>
                    <button mat-stroked-button matStepperPrevious>Back</button>
                    <button mat-stroked-button matStepperNext (click)="login()" >Next</button>
                </div>
            </form>
        </mat-step>
    </mat-horizontal-stepper>
</div>